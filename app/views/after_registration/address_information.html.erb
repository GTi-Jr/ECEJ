<div class="row">
  <div class="col s12">
    <div class="card-panel">
      <h4 class="header2">Endereço</h4>
      <div class="row">
        <%= form_for(@user, :url => wizard_path, html: { method: :put, id: "addres_user_form", class: 'col s12'}) do |f| %>
        <div class="row">
          <div class="input-field col s6">
            <%= text_field_tag 'postal_code', nil, placeholder: "CEP"%>
          </div>
          <div class="input-field col s6">
            <%= text_field_tag 'city', nil, placeholder: "Cidade"%>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <%= text_field_tag 'street', nil, placeholder: "Endereço"%>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
              <%= text_field_tag 'complement', nil, placeholder: "Complemento"%>
          </div>
        </div>
        <%= f.hidden_field :addres, id: "addres" %>
        <div class="row">
          <div class="input-field col s12">
            <%= button_tag(type:"submit", class: 'btn cyan waves-effect waves-light right') do %>
              Próximo
            <% end %>
            <%= link_to 'Anterior', previous_wizard_path, :class => 'btn cyan waves-effect waves-light left' %>
            <div class="col s12 center-align">
              <span class="chip">2/3</span>
            </div>
          </div>
        </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
<script>
  $('#postal_code').formatter({
          'pattern': '{{99999}}-{{999}}',
  });
$("#addres_user_form").validate({
    errorElement : 'div',
    errorPlacement: function(error, element) {
      var placement = $(element).data('error');
      console.log(complement);
      if (placement) {
        $(placement).append(error)
      } else {
        error.insertAfter(element);
      }
    }
});
$( "#postal_code" ).rules( "add", {
  required: true,
  messages: {
    required: "Preencha com seu CEP"
  }
});
$( "#city" ).rules( "add", {
  required: true,
  messages: {
    required: "Preencha com o nome de sua cidade"
  }
});
$( "#street" ).rules( "add", {
  required: true,
  messages: {
    required: "Preencha com seu endereço - rua e número"
  }
});
</script>
