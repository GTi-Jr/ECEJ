<div class="row">
  <div class="col s12">
    <div class="card-panel">
      <h4 class="header2">Dados pessoais</h4>
      <div class="row">
      <%= form_for(@user, :url => wizard_path, html: { method: :put, id: "form_info", class: 'col s12'}) do |f| %>
       <div class="row">
          <div class="input-field col s12">
            <%= f.text_field :name, id:"name", placeholder: 'Nome completo'%>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s6">
            <%= f.text_field :general_register, id: "general_register", placeholder: 'Doc. de Identidade'%>
          </div>
          <div class="input-field col s6">
            <%= f.text_field :cpf, :id => 'cpf', placeholder: 'CPF'%>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s6">
            <%= f.text_field :phone, :id =>'phone', placeholder: 'Telefone celular'%>
          </div>
          <div class="input-field col s6">
            <%= f.text_field :birthday, :id =>'birthday', placeholder: 'Data de nascimento', class: 'datepicker'%>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s6">
            <div class="select-wrapper initialized"><span class="caret">▼</span>
              <%= f.select :gender, ['Masculino', 'Feminino']%>
            </div>
            <label>Gênero</label>
          </div>
          <div class="file-field input-field col s6">
            <div class="btn">
<<<<<<< HEAD
              <span>Foto</span>
              <%= f.file_field :avatar, accept: 'image/png,image/jpg,image/jpeg', value: @user.avatar_url %>
=======
              <span>File</span>
              <%= f.file_field :avatar %>
            </div>
            <div class="file-path-wrapper">
              <input class="file-path" type="text" disabled="true">
>>>>>>> 1b44907d52394a7db2addc166c3ba019db288c04
            </div>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <%= f.text_area :special_needs, :id => 'special_needs', :class => 'materialize-textarea', placeholder: "Necessidades especiais"%>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <%= button_tag(class: 'btn cyan waves-effect waves-light right') do %>
              Próximo
            <% end %>
          </div>
          <div class="col s12 center-align">
            <span class="chip">1/3</span>
          </div>
        </div>
        <% end %>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  $('.datepicker').pickadate({
    monthsFull: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],
    monthsShort: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],
    weekdaysFull: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'],
    weekdaysShort: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb'],
    today: 'Hoje',
    clear: 'Limpar',
    close: 'Fechar',
    format: 'dd/mm/yyyy',
    formatSubmit: 'yyyy-mm-dd',
    min: new Date(1940,1,1),
    max: new Date(2015,12,31),
    max: true,
    selectMonths: true, // Creates a dropdown to control month
    selectYears: 40, // Creates a dropdown of 15 years to control year
    yearRange: '1950:2005'
  });
  $('#cpf').formatter({
          'pattern': '{{999}}.{{999}}.{{999}}-{{99}}',
  });
  $('#phone').formatter({
          'pattern': '({{99}}) {{99999}} {{9999}}',
  });
  $("#form_info").validate({
    submitHandler: function(form) {
    $(form).ajaxSubmit();
  },
     errorElement : 'div',
     errorPlacement: function(error, element) {
       var placement = $(element).data('error');
       if (placement) {
         $(placement).append(error)
       } else {
         error.insertAfter(element);
       }
     }
   });
   $( "#name" ).rules( "add", {
     required: true,
     messages: {
       required: "Preencha com nome completo"
     }
   });
   $( "#general_register" ).rules( "add", {
     required: true,
     digits: true,
     messages: {
       required: "Entre com seu número de identidade",
       digits: "Preencha esse campo apenas com números"
     }
   });
   $( "#cpf" ).rules( "add", {
     required: true,
     rangelength: [11,14],
     messages: {
       required: "Entre com seu cpf",
       rangelength: "O CPF deve possuir 11 dígitos"
     }
   });
   $( "#phone" ).rules( "add", {
     required: true,
     messages: {
       required: "Entre com seu número de celular"
     }
   });
</script>
